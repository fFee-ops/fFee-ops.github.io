---
title: 34. åœ¨æ’åºæ•°ç»„ä¸­æŸ¥æ‰¾å…ƒç´ çš„ç¬¬ä¸€ä¸ªå’Œæœ€åä¸€ä¸ªä½ç½®ï¼ˆäºŒåˆ†æŸ¥æ‰¾ï¼‰
date: 2020-11-27 00:03:44
tags: 
categories: åŠ›æ‰£
---

<!--more-->

### 34\. åœ¨æ’åºæ•°ç»„ä¸­æŸ¥æ‰¾å…ƒç´ çš„ç¬¬ä¸€ä¸ªå’Œæœ€åä¸€ä¸ªä½ç½®

- [é¢˜ç›®](#_2)
- [è§£é¢˜æ€è·¯](#_11)
- [ä»£ç ](#_14)

# é¢˜ç›®

ç»™å®šä¸€ä¸ªæŒ‰ç…§**å‡åºæ’åˆ—**çš„æ•´æ•°æ•°ç»„ numsï¼Œå’Œä¸€ä¸ªç›®æ ‡å€¼ targetã€‚æ‰¾å‡ºç»™å®šç›®æ ‡å€¼åœ¨æ•°ç»„ä¸­çš„å¼€å§‹ä½ç½®å’Œç»“æŸä½ç½®ã€‚

ä½ çš„ç®—æ³•æ—¶é—´å¤æ‚åº¦å¿…é¡»æ˜¯`O(log n)`çº§åˆ«ã€‚

å¦‚æœæ•°ç»„ä¸­ä¸å­˜åœ¨ç›®æ ‡å€¼ï¼Œè¿”å› \[-1, \-1\]ã€‚

# è§£é¢˜æ€è·¯

è¿™é¢˜ä¸€çœ‹åˆ°â€œä½ çš„ç®—æ³•æ—¶é—´å¤æ‚åº¦å¿…é¡»æ˜¯ O\(log n\) çº§åˆ«ã€‚â€å°±çŸ¥é“åº”è¯¥ç”¨äºŒåˆ†æŸ¥æ‰¾ï¼Œæœ¬é¢˜çš„éš¾ç‚¹ä¸æ˜¯æ‰¾åˆ°targetï¼Œè€Œæ˜¯æ‰¾åˆ°targetåè¿˜è¦åˆ¤æ–­æ‰¾åˆ°çš„targetçš„å‰åæ˜¯å¦è¿˜æœ‰åˆ«çš„targetï¼Œå› ä¸ºé¢˜ç›®æ±‚çš„æ˜¯targetçš„èµ·å§‹å’Œç»“æŸä½ç½®ã€‚å…·ä½“æ€è·¯æ²¡å•¥å¥½è¯´çš„ï¼Œå°±åœ¨ä»£ç æ³¨é‡Šä¸€çœ‹å°±æ‡‚äº†  
è¯´èµ·æ¥å°±å¾ˆéš¾é¡¶ï¼Œè‡ªå·±å†™äº†ä¸€ä¸ªå¤šå°æ—¶ï¼Œç»“æœå‘ç°è¿˜æ˜¯æœ‰å‡ ç§æƒ…å†µè€ƒè™‘ä¸åˆ°ï¼Œæœ€åè¿˜æ˜¯çœ‹äº†ç­”æ¡ˆã€‚æˆ‘çœŸç²ªğŸ·ï¼

# ä»£ç 

```java
class Solution {
       public int[] searchRange(int[] nums, int target) {
        int find = searchRangeHelper(nums, target);
        //å¦‚æœæ²¡æ‰¾åˆ°ï¼Œè¿”å›{-1, -1}
        if (find == -1){
            return new int[]{-1, -1};
        }

        int left = find - 1;
        int right = find + 1;
        //æŸ¥çœ‹å‰é¢æ˜¯å¦è¿˜æœ‰target
        while (left >= 0 && nums[left] == target) {
            left--;
        }
        //æŸ¥çœ‹åé¢æ˜¯å¦è¿˜æœ‰target
        while (right < nums.length && nums[right] == target) {
            right++;
        }

        /*
        ç®€å•ç†è§£ï¼Œå‡å¦‚åªæœ‰ä¸€ä¸ªtargetï¼Œé‚£ä¹ˆæˆ‘ä»¬å¼€å§‹ä¸ºäº†æŸ¥æ‰¾æ˜¯å¦è¿˜æœ‰åˆ«çš„targetè€Œè®©left-1ï¼Œright+1äº†ï¼Œ
        è¿™æ—¶å€™å´æ²¡æœ‰æœç´¢åˆ°åˆ«çš„targetï¼Œé‚£ä¹ˆæˆ‘ä»¬åº”è¯¥ç»™left+1ï¼Œright-1ï¼Œæ¥è®©å®ƒæ¢å¤åŸæ¥çš„å¤§å°ï¼Œå†è¿”å›ã€‚
         */
        return new int[]{left + 1, right - 1};
    }

    //äºŒåˆ†æ³•æŸ¥æ‰¾
    public int searchRangeHelper(int[] nums, int target) {
        int left = 0;
        int right = nums.length - 1;
        while (left <= right) {
            int mid = left + (right - left) / 2;

            if (nums[mid] < target) {
                left = mid + 1;
            } else if (nums[mid] > target) {
                right = mid - 1;
            } else {
                return mid;
                /*æ‰¾åˆ°äº†è¯¥ç›®æ ‡å€¼çš„åœ°å€ï¼Œå°±å°†åœ°å€è¿”å›ï¼Œä½†æ˜¯è¦æ³¨æ„ï¼Œå†å¯»æ‰¾ä¸€ä¸‹è¿˜æœ‰æ²¡æœ‰å…¶ä½™çš„targetï¼Œ
                å› ä¸ºå¯èƒ½æœ‰å¤šä¸ªtargetï¼Œä½†æ˜¯é¢˜ç›®è¦æ±‚çš„æ˜¯targetçš„èµ·å§‹ã€ç»“æŸä½ç½®ï¼Œæ¯”å¦‚[1,1,1,1]
                 */
            }
        }
        return -1;//å¦‚æœæ²¡æ‰¾åˆ°å°±è¿”å›-1
    }
}
```